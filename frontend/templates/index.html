{{define "title"}}Home{{end}}
{{define "content"}}
<h1>Boards</h1>
{{if .Boards}}
<ul class="boards-list">
    {{range .Boards}}<li><a href="/{{.ShortName}}">/{{.ShortName}}/ - {{.Name}}</a>{{if $.User.Admin}}<form method="POST" action="/{{.ShortName}}/delete" class="delete-form">
        <button type="submit" class="auth-button">Delete</button>
    </form>{{end}}</li>{{end}}
</ul>
{{end}}

{{if .User.Admin}}
<div class="admin-panel">
    <h2>Create New Board</h2>
    <form method="POST" action="/">
        <div class="form-group">
            <label for="short-name">Short Name:</label>
            <input type="text" name="shortName" required placeholder="e.g. rnd" maxlength="4" pattern="[a-zA-Z]+">
            <small>Board identifier used in URLs (e.g. 'b' for /b/) - letters and numbers only</small>
        </div>
        
        <div class="form-group">
            <label for="name">Full Name:</label>
            <input type="text" name="name" required placeholder="e.g. Random">
            <small>Descriptive name of the board</small>
        </div>
        
        <div class="form-group">
            <label for="allowed-emails">Allowed Emails (optional):</label>
            <textarea name="allowedEmails" placeholder="Enter email addresses separated by commas"></textarea>
            <small>Leave blank to allow all users, or specify emails that can post (comma-separated)</small>
        </div>
        
        <button type="submit" class="auth-button">Create Board</button>
    </form>
    {{if .Error}}
    <div class="error-message" style="display: block;">{{.Error}}</div>
    {{end}}
</div>
{{end}}
{{end}}