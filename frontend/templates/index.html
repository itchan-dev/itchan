{{define "title"}}Home{{end}}
{{define "content"}}
<div class="index-container">
<div class="welcome-message">
    <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ Itchan</h2>
    <p>
        <strong>Itchan</strong> ‚Äî —ç—Ç–æ –∞–Ω–æ–Ω–∏–º–Ω—ã–π –∏–º–∏–¥–∂–±–æ—Ä–¥ –¥–ª—è IT-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤. 
        –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –æ–±—Å—É–∂–¥–∞—Ç—å –æ—Ñ—Ñ–µ—Ä—ã, –∫–æ–º–ø–∞–Ω–∏–∏, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –∑–∞—Ä–ø–ª–∞—Ç—ã –∏ –Ω–∞—á–∞–ª—å—Å—Ç–≤–æ, –Ω–µ –æ–ø–∞—Å–∞—è—Å—å, —á—Ç–æ —ç—Ç–æ —É–≤–∏–¥–∏—Ç –≤–∞—à HR.
    </p>
    <hr>
    <p>
        <strong>–í–∞–∂–Ω–æ:</strong> –ú—ã –ø–æ–Ω–∏–º–∞–µ–º –≤–∞–∂–Ω–æ—Å—Ç—å —Å–≤–æ–±–æ–¥—ã —Å–ª–æ–≤–∞, –Ω–æ —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø—Ä–∞–≤–æ–≤–æ–º –ø–æ–ª–µ –†–§. 
        –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å <a href="/faq">FAQ –∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏</a> –ø–µ—Ä–µ–¥ –ø–æ—Å—Ç–∏–Ω–≥–æ–º. 
        –ú—ã –≤—ã–Ω—É–∂–¥–µ–Ω—ã —É–¥–∞–ª—è—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç, –Ω–∞—Ä—É—à–∞—é—â–∏–π –£–≥–æ–ª–æ–≤–Ω—ã–π –∫–æ–¥–µ–∫—Å, —á—Ç–æ–±—ã —Ä–µ—Å—É—Ä—Å –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏.
    </p>
</div>
<h1>–î–æ—Å–∫–∏</h1>
{{if .Boards}}
    {{$publicBoards := list}}
    {{$corporateBoards := list}}
    {{range .Boards}}
        {{if .AllowedEmailDomains}}
            {{$corporateBoards = append $corporateBoards .}}
        {{else}}
            {{$publicBoards = append $publicBoards .}}
        {{end}}
    {{end}}

    {{if $publicBoards}}
    <h2 class="board-category">–û–±—â–∏–µ –¥–æ—Å–∫–∏</h2>
    <ul class="boards-list">
        {{range $publicBoards}}
        <li>
            <a href="/{{.ShortName}}">/{{.ShortName}}/ - {{.Name}}</a>
            {{if $.User.Admin}}
            {{template "delete-button" dict "Action" (printf "/%s/delete" .ShortName) "ConfirmMessage" (printf "Are you sure you want to delete /%s/?" .ShortName) "ButtonText" "Delete" "CSRFToken" $.CSRFToken}}
            {{end}}
        </li>
        {{end}}
    </ul>
    {{end}}

    {{if $corporateBoards}}
    <h2 class="board-category">–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –¥–æ—Å–∫–∏</h2>
    <ul class="boards-list corporate">
        {{range $corporateBoards}}
        <li>
            <a href="/{{.ShortName}}">/{{.ShortName}}/ - {{.Name}}</a>
            <span class="corporate-badge" title="–î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è: {{join .AllowedEmailDomains ", "}}">üè¢</span>
            {{if $.User.Admin}}
            {{template "delete-button" dict "Action" (printf "/%s/delete" .ShortName) "ConfirmMessage" (printf "Are you sure you want to delete /%s/?" .ShortName) "ButtonText" "Delete" "CSRFToken" $.CSRFToken}}
            {{end}}
        </li>
        {{end}}
    </ul>
    {{end}}
{{else}}
<p>No boards found.</p>
{{end}}

{{if .User.Admin}}
<hr class="section-separator">
<div class="admin-panel">
    <h2>Create New Board</h2>
    <form method="POST" action="/">
        {{template "csrf-field" .}}
        <table class="form-table">
            <tbody>
                <tr>
                    <td class="form-label"><label for="short-name">Short Name:</label></td>
                    <td><input type="text" id="short-name" name="shortName" required pattern="[a-zA-Z0-9]+" size="10" maxlength="{{.Validation.BoardShortNameMaxLen}}"> (e.g., 'b', 'g', 'gog')</td>
                </tr>
                 <tr>
                    <td class="form-label"><label for="name">Full Name:</label></td>
                    <td><input type="text" id="name" name="name" required size="30" maxlength="{{.Validation.BoardNameMaxLen}}"> (e.g., 'Random', 'Technology')</td>
                </tr>
                 <tr>
                    <td class="form-label"><label for="allowed-emails">Allowed Emails:</label></td>
                    <td><textarea id="allowed-emails" name="allowedEmails" rows="3" cols="50" placeholder="Optional, comma-separated"></textarea></td>
                </tr>
                 <tr>
                    <td class="form-label"></td>
                    <td><button type="submit">Create Board</button></td>
                </tr>
            </tbody>
        </table>
    </form>
</div>
{{end}}
</div>
{{end}}
